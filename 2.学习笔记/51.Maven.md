# Maven简介

https://maven.apache.org/docs/history.html Maven官网

https://search.maven.org 中央仓库搜索网站

https://mvnrepository.com 工程搜索

https://repository.sonatype.org/index.html#nexus-search;quick~derby 仓库搜索

Maven本质上是一个插件框架，MAVEN中每个构建任务实际上是由插件完成，插件是在pom.xml中使用plugins标签定义的，每个插件可以包含多个目标。





## 在项目中如何导入jar包？

- 下载jar包 （mvn）
- 将下载的jar包拷贝到项目中（WEB-INF/lib）
- 选择jar文件--右键--Add as Library



## 传统导入jar包的方式存在什么问题？

- 步骤多（相对）——`繁琐`
- 在不同的项目中如果需要相同的jar包，需要分别存储这个jar文件——`冗余`、`项目体积大`
- 在不同的环境下可能因为jar文件版本不一致导致项目无法运行（重新配置）——`移植性差`



## 项目生命周期

项目从编译到运行的整个过程

完整的生命周期：清理缓存—校验—编译—测试—打包—安装—部署

IDEA提供了一键构建项目的功能，但是如果我们需要自定义的生命周期管理，却没有现成的工具（清理缓存）



## Maven简介

Maven是一个基于项目对象模型（project object model，简称 `POM`）用于进行项目的依赖管理、生命周期管理的工具软件。

**核心功能**

- 依赖管理

- 生命周期管理

- 聚合工程




# Maven安装及配置

## Maven下载

http://maven.apache.org/download.cgi



## Maven安装

Maven是基于Java语言进行开发的，因此依赖JDK（建议JDK1.7+）

开箱即用：直接解压即可

- 解压（d:/mvn）
- 目录结构：
  - bin  存放指令文件（Maven提供了一个mvn指令）
  - boot 包含了一个类加载框架的jar文件
  - conf  包含了Maven的核心配置文件settings.xml
  - lib  存放了maven运行所需的jar文件



## 配置环境变量

- `M2_HOME` D:\mvn\apache-maven-3.6.3

- `Path` 增加 %M2_HOME%\bin

| 测试                                                  |
| ----------------------------------------------------- |
| ![1615948601495](./51.Maven.assets/1615948601495.png) |



# Maven的项目结构

使用Maven进行项目还有一个好处：无论使用什么样 的开发工具（eclipse/idea）项目的结构是统一的。



## Maven的项目结构

```ini
name(项目名称)
--src
  --main (存放项目的源文件)
    --java (存放java代码，相当于传统项目中的src目录)
    --resources (存放配置文件和静态资源的目录，相当于传统项目的web目录)
  --test (存放项目的单元测试代码)
    --java（测试代码）
--pom.xml
```



## pom.xml

Maven可以根据pom文件的配置，对项目进行依赖管理。如果需要在当前项目中添加依赖，只需在pom.xml文件中进行依赖配置即可。

```xml
<?xml version="1.0" encoding="utf-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <!--指定项目模型版本-->
	<modelVersion>4.0.0</modelVersion>
    <groupId>com.qfedu</groupId>
    <artifactId>name</artifactId>
    <version>1.0.0</version>
    
    <!--配置当前项目的依赖-->
    <dependencies>
    </dependencies>
</project>
```

Maven中的项目信息是由 `<groupId>` 企业标识、`<artifactId>` 项目标识、`<version>` 版本三部分组成。

配置依赖找到依赖的坐标，添加`<dependencies></dependencies>`标签即可。

```xml
<dependency>
    <groupId>mysql</groupId>
    <artifactId>mysql-connector-java</artifactId>
    <version>5.1.47</version>
</dependency>
```



# 构件

在 Maven 中，构件（Artifact）是指被构建生成的文件，例如编译后的类文件、JAR 文件、WAR 文件、POM 文件等。构件是 Maven 项目的构建结果，它们由 Maven 插件根据项目的配置和规则生成。

1）GroupID（组织ID）：用于唯一标识组织或项目组

2）Artifact（构件ID）：用于唯一标识构件或项目。

3）Version（版本号）：用于标识构件的不同版本



# 依赖管理



## Maven依赖管理的流程

![1615952656309](./51.Maven.assets/1615952656309.png)



## Maven仓库介绍

1. 本地仓库（Local Repository）：本地仓库是位于开发者本地计算机上的一个目录，用于存储 Maven 下载的依赖库。默认情况下，本地仓库位于用户主目录下的 ".m2" 目录。本地仓库用于缓存项目所需的依赖库，以便在构建过程中重复使用，也可以用来部署本地构件；
2. 中央仓库（Central Repository）：中央仓库是 Maven 社区维护的一个公共仓库，包含了大量的开源依赖库。当 Maven 构建项目时，如果在本地仓库中找不到所需的依赖库，它会自动从中央仓库下载并存储到本地仓库中。中央仓库是 Maven 默认使用的主要依赖库存储位置；
3. 远程仓库（Remote Repository）：远程仓库是指位于网络上的其他仓库，它可以是公共的（例如中央仓库）、私有的或第三方维护的仓库。在项目的 POM 文件中，你可以指定其他远程仓库的位置，以获取特定的依赖库。Maven 会根据配置自动从远程仓库下载所需的依赖库，并存储到本地仓库中；
4. 仓库管理器（Repository Manager）：仓库管理器是一个用于管理和提供仓库服务的工具或平台。它可以用于创建私有仓库、代理远程仓库、缓存和共享依赖库等。一些流行的仓库管理器包括 Nexus、Artifactory 和 Archiva；
5. 私服：企业搭建的供内部使用的maven仓库；

这些仓库概念一起构成了 Maven 构建和依赖管理的基础。通过本地仓库和远程仓库的结合，Maven 可以方便地下载、缓存和共享依赖库，使项目的构建过程更加高效和可靠。

| maven仓库                                             |
| ----------------------------------------------------- |
| ![1615953762130](./51.Maven.assets/1615953762130.png) |



## Maven仓库配置

在 `maven_home/conf/settings.xml` 中进行配置

**配置本地仓库**

```xml
<localRepository>d:\repo</localRepository>
```

**配置公共仓库**

```xml
<mirrors>
	<mirror>
		<id>nexus-aliyun</id>
		<mirrorOf>central</mirrorOf>
		<name>Nexus aliyun</name>
		<url>http://maven.aliyun.com/nexus/content/groups/public</url>
	 </mirror>
</mirrors>
```



# 生命周期

每个任务实际上是由插件完成，插件是在pom.xml中使用plugins标签定义的，每个插件可以包含多个目标\<goal>。

MAVEN定义了三个标准的生命周期（clean、default/build、site），每个生命周期又包含了一系列**阶段**，生命周期中的某个阶段和插件的目标进行了默认绑定，当然生命周期的阶段与插件目标也支持自定义绑定。

| 生命周期 | 描述         | 阶段数量(个) |
| -------- | ------------ | ------------ |
| clean    | 用于清理项目 | 3            |
| default  | 用于构建项目 | 23           |
| clean    | 用于建立站点 | 4            |



mvn validate 验证，验证项目是正确的并且所有的信息是可用的；

mvn clean 清理，清理项目缓存输出，一般是target文件夹被删除；

mvn compile 编译，将java源文件编译成.class文件；

mvn test 测试，生成测试报告，运行test目录下的所有单元测试；

mvn package 打包，将项目打成jar、war或者pom；

mvn verify 验证，运行任何检查，验证包是否有效且达到质量标准；

mvn install 安装，将当前项目安装到本地maven库，供其他项目依赖；

mvn site：生成项目的文档网站，方便团队成员或用户查看和了解项目的结构、文档、报告等信息；

mvn deploy部署，在构建环境中完成，复制最终的包到远程库。

执行后面的命令会自动执行前面的命令，比如执行mvn package时会执行validate、clean、compile、test、package五个阶段。

Maven有三套相互独立的生命周期，分别是clean、default和site。每个生命周期包含一些阶段（phase），阶段是有顺序的，后面的阶段依赖于前面的阶段。



## **clean生命周期**

包含三个阶段（phase）：

![在这里插入图片描述](51.Maven.assets/40c3ff453cf647a9aa87f1d163673b33.png)



## default（或build）生命周期

共有23个阶段：

![在这里插入图片描述](51.Maven.assets/3f77fea6011b49ff87db2e24e283a2c6.png)

例如想要执行package阶段，那么maven会把default生命周期中package之前的阶段都顺序执行一遍，但不会执行clean生命周期中的阶段。



## **site生命周期**

共有4个阶段

![在这里插入图片描述](51.Maven.assets/29ef966f217842ce9fff81c765e9d46a.png)



## 运行阶段

可以在工程根目录下（必须包含pom.xml）执行mvn命令来运行maven生命周期的阶段

```shell
$ mvn compile
```

命令默认执行deault生命周期的compile之前的所有阶段（含compile阶段），共7个阶段

```shell
$ mvn clean package
```

命令默认执行clean生命周期的clean之前的所有阶段（含clean阶段）和default生命周期package之前的所有阶段（含package阶段），共2 + 17个阶段。



# 插件

MAVEN是一个依赖插件执行的框架，生命周期中每个阶段实际上是由插件完成，插件是在pom.xml中使用plugins标签定义的，每个插件可以包含多个目标。



## 运行插件

用户可以通过两种方式调用Maven插件目标。

第一种方式：

将插件目标与生命周期阶段（lifecycle phase）绑定，这样用户在命令行只是输入生命周期阶段而已，例如Maven默认将maven-compiler-plugin的compile目标与compile生命周期阶段绑定，因此命令mvn compile实际上是先定位到compile这一生命周期阶段，然后再根据绑定关系调用maven-compiler-plugin的compile目标。

第二种方式：

直接在命令行指定要执行的插件目标，例如mvn archetype:generate 就表示调用maven-archetype-plugin的generate目标，这种带冒号的调用方式与生命周期无关。

可使用 “插件名:目标名” 的形式直接运行某插件中的某个目标。

```shell
$ mvn dependency:copy-dependencies
```

命令默认执行了dependency插件的copy-dependencies目标。

阶段和插件目标也可以同时使用：

```shell
$ mvn clean dependency:copy-dependencies package
```

命令默认执行clean生命周期的clean之前的所有阶段（含clean阶段）、dependency插件的copy-dependencies目标、default生命周期package之前的所有阶段（含package阶段）。



## 指定版本

可以在运行mvn命令时指定maven插件的版本，格式如下：

```shell
$ mvn groupID:artifactID:version:goal
```

例如：

```shell
$ mvn org.sonarsource.scanner.maven:sonar-maven-plugin:3.7.0.1746:sonar
```



## maven-surefire-plugin

官网：https://maven.apache.org/surefire/maven-surefire-plugin/index.html

maven-surefire-plugin是maven里执行测试用例的插件，不显示配置就会用默认配置。 这个插件的surefire:test命令会默认绑定maven执行的test阶段。

默认情况下，Surefire插件将自动包含具有以下通配符模式的所有测试类：

- `"**/Test*.java"`-包括其所有子目录和所有以“测试”开头的Java文件名。
- `"**/*Test.java"`-包括其所有子目录和以“测试”结尾的所有Java文件名。
- `"**/*Tests.java"`-包括其所有子目录和所有以“测试”结尾的Java文件名。
- `"**/*TestCase.java"`-包括其所有子目录和以“TestCase”结尾的所有Java文件名。

如果测试类不遵循默认的通配符模式，则通过配置Surefire插件来覆盖它们，并指定要包含（或排除）或其他模式的测试。

```xml
<build>
   <plugins>
     <plugin>
       <groupId>org.apache.maven.plugins</groupId>
       <artifactId>maven-surefire-plugin</artifactId>
       <version>2.20</version>
       <configuration>
         <!-- 包含 -->
         <includes>
           <include>Sample.java</include>
         </includes>
         <!-- 排除 -->
         <excludes>
           <exclude>**/Abstract*.java</exclude>
         </excludes>
         
         <!-- 提高单元测试速度 -->
         	<argLine>-Xmx2G -XX:MaxPermSize=1G -XX:-UseSplitVerifier</argLine>
          <failIfNoTests>false</failIfNoTests>
          <parallel>classesAndMethods</parallel>
          <useUnlimitedThreads>true</useUnlimitedThreads>
       </configuration>
     </plugin>
   </plugins>
</build>
```

```
<plugin>
                <artifactId>maven-surefire-plugin</artifactId>
                <version>2.22.0</version>
                <configuration>
                    <argLine>-Xmx2G -XX:MaxPermSize=1G -XX:-UseSplitVerifier -XX:-TieredCompilation -XX:TieredStopAtLevel=1</argLine>
                    <parallel>methods</parallel>
                    <forkCount>3C</forkCount>
                    <reuseForks>true</reuseForks>
                    <threadCount>20</threadCount>
                </configuration>
            </plugin>

```



# 命令



## 选项



| 选项 | 长选项                               | 说明                                                         |
| ---- | ------------------------------------ | ------------------------------------------------------------ |
| -V   | --show-version                       | 显示版本信息后继续执行Maven其他目标                          |
| -v   | --version                            | 显示版本信息<br>这两个选项输出相同的版本信息，但-v选项在打印版本信息后会中断Maven处理。<br/>如果你想让Maven版本信息出现在构建输出的开始处，你应该使用-V选项。 |
| -P   | --activate-profiles<arg>             | 激活POM文件中的 profile，用逗号分隔多个 profile              |
| -o   | --offline                            | 离线模式工作，该参数可以阻止通过网络更新插件或依赖           |
| -f   | --file <file>                        | 强制使用备用的POM文件                                        |
| -s   | --settings <arg>                     | 用户配置文件的备用路径                                       |
| -gs  | --global-settings <file>             | 全局配置文件的备用路径                                       |
|      | **加密密码**                         | 下面的命令允许你使用Maven加密密码，然后存储到Maven settings文件里 |
| -emp | --encrypt-master-password <password> | 加密主安全密码                                               |
| -ep  | --encrypt-password <password>        | 加密服务器密码                                               |
|      | **失败处理**                         | 下面的选项控制，在多模块项目构建的中间阶段，Maven如何应对构建失败<br>-fn 和 -fae选项对于使用持续集成工具（例如Hunson）的多模块构建非常有用。 -ff 选项对于运行交互构建的开发者非常有用，因为开发者在开发周期中想得到快速的反馈。 |
| -fae | --fail-at-end                        | 仅影响构建结果，允许不受影响的构建继续                       |
| -ff  | --fail-fast                          | 遇到构建失败就停下来                                         |
| -fn  | --fail-never                         | 无论项目结果如何，构建从不失败                               |
|      | **日志级别**                         |                                                              |
| -e   | --errors                             | 产生执行错误相关消息，如果你是Maven开发者，或者你需要诊断Maven插件的一个错误，那么-e选项就会派上用场。如果你想报告Maven或Maven插件的一个未预料到的问题，你应该传递-X 和 -e命令行选项。 |
| -X   | --debug                              | 产生执行调试信息，选项会打印大量的调试日志消息，这个选项主要被Maven开发者和Maven插件开发者用来诊断在开发过程中碰到的Maven代码问题。如果你想诊断依赖或路径问题，-X 选项也非常有用 |
| -q   | --quiet                              | 仅仅显示错误，只有出现错误或问题，-q 选项才打印一条消息      |
|      | **批处理方式**                       |                                                              |
| -B   | --batch-mode                         | 在非交互（批处理）模式下运行<br>如果你需要在非交互、持续集成环境下运行Manve，必须要使用批处理模式。在非交互模式下运行，当Mven需要输入时，它不会停下来接受用户的输入，而是使用合理的默认值。 |
|      | **下载和验证**                       | 如果你关注安全，你就想带 -C选项运行Maven。Maven仓库为每个存储在仓库里的构件维护一个MD5 和 SHA1 校验码。如果构件的校验码不匹配下载的构件，Maven默认被配置成告警终端用户。如果传递-C 选项，当遇到带着错误校验码的构件，会引起Maven构建失败。如果你想确保Maven检查所有快照依赖的最新版本，-U选项非常有用。 |
| -C   | --strict-checksums                   | 如果校验码不匹配的话，构建失败                               |
| -c   | --lax-checksums                      | 如果校验码不匹配的话，产生告警                               |
| -U   | --update-snapshots                   | 在远程仓管更新发布版本或快照版本时，强制更新                 |
|      | **插件更新**                         | 选项告诉Maven，将如何从远程仓库更新（或不更新）Maven插件     |
| -npu | --no-plugin-updates                  | 对任何相关的注册插件，不进行最新检查。使用该选项使Maven表现出稳定行为，该稳定行为基于本地仓库当前可用的所有插件版本 |
| -cpu | -check-plugin-updates                | 对任何相关的注册插件，强制进行最新检查。强制Maven检查Maven插件的最新发布版本，即使在你的项目POM里明确规定了Maven插件版本，还是会强制更新 |
| -up  | --update-plugins                     | cpu的同义词                                                  |
|      | **下载方式**                         |                                                              |
| -npr | --no-plugin-registry                 | 对插件版本不使用~/.m2/plugin-registry.xml 里的配置，告诉Maven不要参考插件注册表 |
|      | **非递归构建**                       | 有时，你只想运行Maven构建，而不陷入项目子模块的构建          |
| -N   | --non-recursive                      | 阻止Maven构建子模块。仅仅构建当前目录包含的项目。<br>运行该命令行选项使Maven只为当前目录下的项目执行生命周期中的目标或步骤 |



## win10环境

可以使用命令行更改 Windows 10 中的字符集。可以使用 `chcp` 命令（"change code page"）来更改命令行的字符集。

下面是一些常用的字符集及其对应的命令：

- 437：美国 MS-DOS
- 65001：UTF-8
- 936：GBK

要将字符集更改为 UTF-8，你可以运行以下命令：

```shell
$ chcp 65001
```

执行maven命令

```shell
$ chcp 65001 & mvn -e clean jacoco:prepare-agent test sonar:sonar -Dsonar.projectKey=xxx -Dsonar.projectName=xxx -f pom.xml -s xxx/.m2/.settings.xml
```





# 基于IDEA的Maven使用



## 在IDEA中关联Maven

| maven配置                                             |
| ----------------------------------------------------- |
| ![1615963348490](./51.Maven.assets/1615963348490.png) |
| ![1615963666386](./51.Maven.assets/1615963666386.png) |

**说明：** IDEA本身集成了Maven，考虑到IDEA和Maven版本的兼容性，Idea不建议配置比默认版本更新的版本，建议使用IDEA自带的Maven。



## 使用IDEA创建Maven项目



### Java项目

| 创建Java项目                                          |
| ----------------------------------------------------- |
| ![1615964274767](./51.Maven.assets/1615964274767.png) |
| ![1615964923674](./51.Maven.assets/1615964923674.png) |
| ![1615965081111](./51.Maven.assets/1615965081111.png) |



### web项目

**创建maven项目**：maven-demo2

**在pom.xml文件设置打包方式为war**

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>com.qfedu</groupId>
    <artifactId>maven-demo2</artifactId>
    <version>1.0.0</version>

    <!--设置项目打包方式为war-->
    <packaging>war</packaging>

</project>
```

**完成web项目结构**

![1615966156430](./51.Maven.assets/1615966156430.png)

**配置web组件—Tomcat**

![1615966233010](./51.Maven.assets/1615966233010.png)

![1615966284891](./51.Maven.assets/1615966284891.png)

![1615966379430](./51.Maven.assets/1615966379430.png)

**部署web项目**

![1615966537967](./51.Maven.assets/1615966537967.png)

![1615966622390](./51.Maven.assets/1615966622390.png)



## 在IDEA中使用Maven进行依赖管理

### 查找依赖坐标

https://mvnrepository.com/



### 添加依赖

将依赖的坐标配置到项目的pom.xml文件`<dependencies></dependencies>`标签中。

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <groupId>com.qfedu</groupId>
    <artifactId>maven-demo2</artifactId>
    <version>1.0.0</version>

    <!--设置项目打包方式为war-->
    <packaging>war</packaging>

    <dependencies>
        <!--在此位置配置项目中所需依赖的坐标 GAV-->
        <dependency>
            <groupId>com.google.code.gson</groupId>
            <artifactId>gson</artifactId>
            <version>2.8.5</version>
        </dependency>

        <dependency>
            <groupId>org.projectlombok</groupId>
            <artifactId>lombok</artifactId>
            <version>1.18.18</version>
            <scope>provided</scope>
        </dependency>
    </dependencies>
</project>
```



### 依赖范围

在通过`<dependency></dependency>`添加依赖时，可以通过`scope`标签配置当前依赖的适用范围。

- **test**  只在项目测试阶段引入当前依赖(编译、测试)

  ```xml
  <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <version>4.13.2</version>
      <scope>test</scope>
  </dependency>
  ```

- **runtime** 只在运行时使用（运行、测试运行）；
- **provided** 在（编译、测试、运行）；
- **compile** 在（编译、测试、运行、打包）都引入；



## 在IDEA中使用Maven进行项目构建



### Maven项目构建生命周期说明

- clean 清理缓存  清理项目生成的缓存
- validate 校验  验证项目需要是正确的（项目信息、依赖）
- compile 编译  编译项目专供的源代码
- test 测试  运行项目中的单元测试
- package 打包  将项目编译后的代码打包成发布格式
- verify 检查  对集成测试的结果进行检查、确保项目的质量是达标的
- install 安装 将包安装到maven的本地仓库，以便在本地的其他项目中可以引用此项目（聚合工程）
- deploy  部署  将包安装到私服的仓库，以供其他开发人员共享



### IDEA进行生命周期管理

- 可视化

  ![1615970887716](./51.Maven.assets/1615970887716.png)

- 终端指令

  选择项目名称---右键---Open in Terminal

  mvn clean



# 私服

企业搭建供内部使用的一个Maven仓库

- 开发者需要依赖直接从私服下载；
- 私服可以实现企业内部依赖的共享：当企业开发了一个通用插件（jar），可以发布到私服，可以连接到当前私服的其他开发者就可以共享这个插件了；



## 私服搭建

可以通过专门的Maven仓库管理软件来搭建私服。例如：Apache Archiva、Nexus。



### 下载Nexus

官网 https://www.sonatype.com/

下载 https://help.sonatype.com/repomanager2/download



### 解压nexus

![1615972207503](./51.Maven.assets/1615972207503.png)



### 安装并运行nexus

- 进入到`nexus-2.14.11-01/bin`目录；

- 管理员身份打开cmd命令行，执行指令；

  ![1615972590023](./51.Maven.assets/1615972590023.png)



### 登录Nexus

私服管理器登录地址： http://localhost:8081/nexus；

![1615972765110](./51.Maven.assets/1615972765110.png)

私服中仓库类型

![1615972987904](./51.Maven.assets/1615972987904.png)

私服仓库组的配置

![1615973337723](./51.Maven.assets/1615973337723.png)

### 配置私服



1）在maven的settings.xml文件的`<server>`标签中

```xml
<!--配置连接私服所需的帐号和密码-->
<server> 
    <id>nexus-public</id> <!-- nexus的认证id -->
    <username>admin</username> <!--nexus中的用户名密码-->
    <password>admin123</password> 
</server>
```



2）在maven的settings.xml文件的`profiles`标签中

repository 和 pluginRepository的  id子标签的值，要和上面配置的server 的id子标签的值一致。

```xml
<profile> 
    <id>nexus</id> 
    <repositories> 
        <repository> 
            <id>nexus-public</id>      
            <name>Nexus Release Snapshot Repository</name>   
            <url>http://localhost:8081/nexus/content/groups/public/</url>
            <releases><enabled>true</enabled></releases> 
            <snapshots><enabled>true</enabled></snapshots> 
        </repository>
    </repositories> 
    <pluginRepositories>
        <pluginRepository> 
            <id>nexus-public</id> 
            <url>http://localhost:8081/nexus/content/groups/public/</url>
            <releases><enabled>true</enabled></releases> 
            <snapshots><enabled>true</enabled></snapshots> 
        </pluginRepository> 
    </pluginRepositories> 
</profile>
```



3）在maven的settings.xml文件的`activeProfiles`配置激活profile

```xml
 <activeProfiles>
	<activeProfile>nexus</activeProfile>
 </activeProfiles>
```



## Maven聚合工程



# 上传jar到中央仓库

参考以下链接：

https://cloud.tencent.com/developer/article/1929115

https://www.cnblogs.com/zimug/p/16575819.html



？？？？？