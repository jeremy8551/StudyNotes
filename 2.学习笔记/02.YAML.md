# YAML介绍

官网链接：https://yaml.org

教程链接：https://www.w3cschool.cn/yaml1/yaml_introduction.html

YAML是一个类似 XML、JSON 的标记性语言。

调以**数据**为中心，并不是以标识语言为重点。因而YAML本身的定义比较简单，号称是一种人性化的数据格式语言。

XML格式：

```xml
<heima>
    <age>15</age>
    <address>Beijing</address>
</heima>
```

换成Yaml：

```yaml
heima:
  age: 15
  address: Beijing
```



# 语法

- 大小写敏感
- 使用缩进表示层级关系
- 缩进不允许使用 tab，只允许空格( 低版本限制 )
- 缩进的空格数不重要，只要相同层级的元素左对齐即可
- 符号 # 表示注释
- 冒号 `:` 后面要加一个空格
- 如果需要将多段 yaml 配置放在一个文件中，中间要使用 `---` 分隔

下面是一个 yaml 转 json 的网站，可以验证 yaml 是否书写正确

https://www.json2yaml.com/convert-yaml-to-json



# 数据类型

YAML 支持多种数据类型，包括标量，序列和映射等。

**标量**是 YAML 中的基本数据类型，代表单个值，可以是字符串、整数、浮点数、布尔值、空值等。

对象：键值对的集合，又称为映射（mapping）/ 哈希（hash） / 字典（dictionary）；

数组：一组按次序排列的值，又称为序列（sequence） / 列表（list）；



## 字符串

简单写法，直接写值，如果字符串中间有特殊字符，必须使用双引号或者单引号包裹。

```yaml
c7: heima
```

在下面这个示例中，`c8` 的值是一个多行字符串：

```yaml
c8: line1
    line2
```

根据 YAML 的规则，字符串的每一行会被转换为一个空格，除非显式地使用引号或其他方式来保留原始格式。

因此，在上面这个示例中，`line1` 和 `line2` 之间的空格会被保留，但换行符会被替换为一个空格，等同于以下形式的单行字符串：

```yaml
c8: line1 line2
```



### 折叠块标记｜

**折叠块标记**或**块注释标记**允许在 YAML 文件中使用多行文本，并保留文本的原始格式，包括换行符、缩进与行尾的空格。

下面是一个示例，展示了如何使用 `|` 标记来表示一个多行字符串：

```yaml
message: |
  Foo
  Bar
```

转为 JavaScript

```javascript
{message: 'Foo\nBar\n'}
```



### 折叠块标记>-

`>-` 是一种折叠块标记，文本会被折叠成一行（将行尾的换行符替换为一个空格），而保留空格与最后一个换行符。

使用案例：

```yaml
message: |
  Foo
  Bar
```

转为 JavaScript

```javascript
{message: 'Foo Bar\n'}
```



## 整数

```yaml
number: 42
```



## 浮点数

```yaml
float_number: 3.14
```



## 布尔值

```yaml
boolean: true
```



## 空值null

在 YAML 中，可以使用 `null` 关键字表示空值，也可以使用 `~` 表示空值。

```yaml
null_value: null
```

使用 `~` 表示空值

```yaml
c4: ~
```



## 序列

一个有序的列表，每一个元素都可以是任意数据类型。

每个元素之间都必须使用 `-` 连在一起，且每个元素的 `-` 符号前面必须有两个空格。

```yaml
fruits:
  - apple   # Apple
  - banana  # banana
  - orange  # orange
```



## 映射

一组键值对，键和值之间用 `:` 分隔。

```yaml
person:
  name: John
  age: 30
  address:
    city: New York
    zip: 10001
```



## 锚点和引用

使用 `&` 定义锚点，在需要时使用 `*` 引用锚点。

```yaml
parent: &parent
  name: John
child1: *parent
child2: *parent
```



## 多行文本

如果想要保留原始的换行符，则使用 `|` 符号；如果想要将多行文本转换为单行，则使用 `>` 符号。

1. 使用 `|` 符号表示多行文本块，保留原始换行符。这种方式称为 "折叠" 格式。示例如下：

```yaml
info: |
  This is a multiline
  text block in YAML.
  It preserves line breaks.
```

在这个示例中，`info` 的值是一个多行文本块，其中的换行符会被保留。

2. 使用 `>` 符号表示多行文本块，将多行文本转换为单行，去除换行符。这种方式称为 "切割" 格式。示例如下：

```yaml
info: >
  This is a multiline
  text block in YAML.
  It is folded into a single line.
```

在这个示例中，`info` 的值是一个多行文本块，但所有的换行符都被替换为了空格，将文本折叠成了单行。



## 日期时间

```yaml
# 5 日期类型必须使用ISO 8601格式，即yyyy-MM-dd
c5: 2018-02-17

# 6 时间使用ISO 8601格式，时间和日期之间使用T连接，最后使用+代表时区
c6: 2018-02-17T15:02:31+08:00
```



- 





```yaml
# 对象
# 形式一(推荐):
heima:
  age: 15
  address: Beijing
# 形式二(了解):
heima: {age: 15,address: Beijing}
```

```yaml
# 数组
# 形式一(推荐):
address:
  - 顺义
  - 昌平  
# 形式二(了解):
address: [顺义,昌平]
```



